------------
OSes
------------

.. toctree:: 
    :maxdepth: 2
    :caption: 论文阅读
    :hidden:

    theseus
    unikraft
    redleaf
    micro

====================
关于模块化的一些思考
====================

模块化工程应满足 **高内聚低耦合** 原则，低耦合模块不应该了解其他模块的内部工作原理，高内聚意味着模块应该仅包含相关性的代码。

模块间的通信不可避免，通信的方法一般是实现中间层，例如 ``Redleaf`` 中的 ``Shared Heap`` 。

模块间通信可以划分为两种形式，一种是 **数据交互**，另一种是 **模块切换**，类似于 ``Theseus`` 中的 ``Swap Cell``。

模块的接口应该保证是最小的，不应该对外暴露内部实现细节，尽可能地减少外部调用者对于接口的访问范围。

对上应封装 POSIX 接口，用来支持不同语言环境下的应用的调用，对下根据选择的模块对这些接口采用不同的实现。

在阅读有关 **Unikernel** 的论文时，我不禁要思考这个问题。对于传统的宏内核来说，特权级和地址空间都提供了内核和应用、应用和应用之间的隔离，这尚且不能完全确保隔离性和安全性，但是对于单一特权级、单一地址空间的 **Unikernel** 来说，模块之间清晰的边界真的能确保安全吗？